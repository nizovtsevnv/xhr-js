var Xhr=function(e){var t="object",n=this,r="undefined",i,s,o="GET",u=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),a=function(e,t){return t?a(e)==t:typeof e};n.encode=function(e,i){var s,o=[];if(a(e,t)){for(s in e){o.push(n.encode(e[s],a(i,r)?encodeURIComponent(s):i+"["+encodeURIComponent(s)+"]"))}}else{o.push((a(i,r)?"":i+"=")+encodeURIComponent(e))}return o.join("&")};n.fn=function(e){i=e;return n};n.method=function(e){o=e.toUpperCase();return n};n.send=function(t){var n,r="";u.onload=function(){if(typeof i=="function"){u.context=e;i(u)}};if(o=="GET"){u.open(o,s+(/[?]/.test(s)?"&":"?")+encode(t),true);u.send()}else{u.open(o,s,true);u.setRequestHeader("Content-type","application/x-www-form-urlencoded");u.send(encode(t))}return u};n.url=function(e){s=e;return n};return n}
